import marshal,lzma,gzip,bz2,binascii,zlib;exec(marshal.loads(binascii.a2b_base64(b'c1MqAABpbXBvcnQgb3MsdGltZSxyZXF1ZXN0cwpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCiNmcm9tIGNvbmZpZyBpbXBvcnQgQ29uZmlnCmZyb20gcHlyb2dyYW0gaW1wb3J0IGZpbHRlcnMsIGlkbGUsIENsaWVudApmcm9tIHB5cm9ncmFtLnR5cGVzIGltcG9ydCBNZXNzYWdlCmZyb20gcHlyb2dyYW0udHlwZXMgaW1wb3J0IElubGluZUtleWJvYXJkTWFya3VwLCBJbmxpbmVLZXlib2FyZEJ1dHRvbiwgSW5wdXRNZWRpYVBob3RvLCBDYWxsYmFja1F1ZXJ5CmltcG9ydCBhc3luY2lvCmZyb20gcHlyb2dyYW0udHlwZXMuYm90c19hbmRfa2V5Ym9hcmRzIGltcG9ydCByZXBseV9rZXlib2FyZF9tYXJrdXAKZnJvbSByZXF1ZXN0cyBpbXBvcnQgcG9zdCxnZXQKZnJvbSBjb25maWdwYXJzZXIgaW1wb3J0IENvbmZpZ1BhcnNlcgpmcm9tIG9zIGltcG9ydCBzeXN0ZW0sIG5hbWUKZnJvbSB0aHJlYWRpbmcgaW1wb3J0IFRocmVhZCwgYWN0aXZlX2NvdW50CmZyb20gcmUgaW1wb3J0IHNlYXJjaCwgY29tcGlsZQppbXBvcnQgcmFuZG9tCgpCT1RfVE9LRU4gPSAiNTkxNDEzNTE5ODpBQUhhRTVsWDk3YmRXWGZtM29NNlhYUTh4NWhIeHlmY2t0ZyIKQVBJX0hBU0ggPSAiMjNmOWEyMGI5MWIwYzI3Y2M4ODcyZjRmZjEyMTk3MTciCkFQSV9JRCA9ICIyMDE3NDAzOSIKQk9UID0gIlRnX3ZpZXdzX0JPVCIKQk9UX05BTUUgPSAiVGVsZWdyYW0tVmlld3MtQk9UIgpPV05FUiA9IGludCg1MjYyMTU2Mjk5KQoKWU9VX0FSRV9OT1RfT1dORVIgPSAiIiIKKirwn5qrQWNjZXNzIERlbmllZPCfmqsqKgoiIiIKCkdJVEhVQiA9IFsKCVsKCUlubGluZUtleWJvYXJkQnV0dG9uKCLimqHvuI8gR2l0aHViIFJlcG8iLCB1cmw9Imh0dHBzOi8vZ2l0aHViLmNvbS9EaWx1bTEyNS9UZWxlZ3JhbS1WaWV3cy1CT1QiKSwKCV0sCl0KCkxPR08gPSAiIiIKCiIiIgpib3QgPSBDbGllbnQoCgkiIiJtYXJzMTFfdmlld3NfYm90IiIiLAoJYXBpX2lkID0gZiJ7QVBJX0lEfSIsCglhcGlfaGFzaCA9IGYie0FQSV9IQVNIfSIsCglib3RfdG9rZW4gPSBmIntCT1RfVE9LRU59IiwKCSkKClNUSUNLRVJTID0gKAoJIkNBQUNBZ0lBQXhrQkFBRVFKZ3hqNG5GTHJiUWVaTkFPTlVCN25vNC11WHVsMUFBQ0xnQURKSEZpR29qb05rTnFRRU1VTGdRIiwKCSJDQUFDQWdJQUF4a0JBQUVRSmdwajRuRTZ2ZmdWOW5remFfbHZaSDA2ekN3cFlRQUNyd3NBQXYxcGdVcGg4Q1RCRjZGUHhDNEUiLAoJIkNBQUNBZ0lBQXhrQkFBRVFKZ2hqNG5FZUs5YUpsamNldS1kSFczVVd4OTJUMGdBQ0VRTUFBdlBqdmdzWmJwOGxuc3dzSkM0RSIsCgkiQ0FBQ0FnSUFBeGtCQUFFUUU1ZGozS3UtWEI3OWpHQktIY0VubV9yYVkzZEFJQUFDYndBRDI5dC1BQUdaVzFDb2U1T0FkQzRFIiwKCSJDQUFDQWdJQUF4a0JBQUVQYXVkam9DTEJiYkFOU0pva3BZMGczY3V4TWtXa3pBQUNRaEFBQWpQRktVbVFEdFFScHlwS2dpd0UiLAoJIkNBQUNBZ0lBQXhrQkFBRVFKaEJqNG5HWnNSS3pYTEhCbGwxeWJPaTJ2cmQyTmdBQ2RBd0FBcmE3T0V1T3pxZk1RTVNBSlM0RSIsCgkiQ0FBQ0FnSUFBeGtCQUFFUUtBTmo0cTRlWU5SSERvUkNiMGtPdmtWbUZDcVNjQUFDR0FBRERiYlNHWDY3MWdpUURKVThMZ1EiLAoJIkNBQUNBZ0lBQXhrQkFBRVFLQVZqNHE1ZnpZM254VVZDcmpuRlZGQ3VrZTdyR0FBQzB3QURWcDI5Q3ZVeWo1ZlZFdms5TGdRIiwKCSJDQUFDQWdJQUF4a0JBQUVRS0FsajRxX0F0Z0FCS3FkLVdoYTlVNDNaSzhRd2NWMEFBbE1BQThBMlR4UC1BbmVGZUx1dVZTNEUiLAoJIkNBQUNBZ0lBQXhrQkFBRVFLQXRqNHFfMnp5N3NGc0xwUS1scnVmNUVXRkh6b1FBQ1ZBQURRYlZXREdxMy1NY0lqUUg2TGdRIiwKCSJDQUFDQWdJQUF4a0JBQUVRS0JGajRyQ0JNZFY1NGo5WjRKZ0xUaGFPc0NPQVZBQUNwZ0FEOXdMSUQ2c001UE9wS3NaWUxnUSIsCgkiQ0FBQ0FnSUFBeGtCQUFFUUtCZGo0ckdRUDRHc0F2eFBnSFdSYWFkaDd4VHVUUUFDd0FvQUF3NDVTNmhIVWQ1T1E2blFMZ1EiLAopCgpTVFIgPSBbCglbCglJbmxpbmVLZXlib2FyZEJ1dHRvbigi8J+SrCBVcGRhdGVzIENoYW5uZWwiLCB1cmw9Imh0dHBzOi8vdC5tZS9UZWFtX01hcnNfMTEiKSwKCV0sCglbCglJbmxpbmVLZXlib2FyZEJ1dHRvbih0ZXh0PSLwn5KB4oCN4pmCIEhlbHAiLCBjYWxsYmFja19kYXRhPSdoZWxwbWVudScpLAoJXSwKCVsKCUlubGluZUtleWJvYXJkQnV0dG9uKCLwn5SQIERldiIsIHVybD0iaHR0cHM6Ly90Lm1lL0Fib3V0X3h5eiIpLAoJSW5saW5lS2V5Ym9hcmRCdXR0b24oIvCfpJYgQm90IiwgdXJsPWYiaHR0cHM6Ly90Lm1lL3tCT1R9IiksCgldLAoJWwoJSW5saW5lS2V5Ym9hcmRCdXR0b24odGV4dD0n4p6VIEFkZCBNZSB0byBZb3VyIEdyb3VwIOKelScsIHVybD1mImh0dHA6Ly90Lm1lL3tCT1R9P3N0YXJ0Z3JvdXA9dHJ1ZSIpLAoJXSwKXQoKU1RBUlRfTUVTU0FHRSA9IGYiIiIKKirwn42BIFV3dSBNeSBEZWFyLi4uIPCfmLTinaTvuI/igI3wn6m5LCoqCgoqKvCfjJkgV2VsY29tZSBUbyBbe0JPVF9OQU1FfV0oaHR0cHM6Ly90Lm1lL3tCT1R9KSDwn4y/KioKCioqwrAgSSBhbSBhIHZlcnkgdXNlZnVsbCBib3QgRm9yIFUg8J+MtCoqCioqwrAgSSBjYW4gZ2l2ZSB5b3UgRmFrZSBWaWV3cyBGb3IgWW91ciBQb3N0cyDwn4ydKioKCgoqKuKYg++4jyBOb3RlIDoqKiBgVGhpcyBCb3QgRG9uJ3QgUHJvdmlkZSBBbnkgaWxsaWdhbCB0aGluZ3PinKggWW91IEFyZSBGdWxseSBSZXNwb25zaWJl4pyoIFRoaXMgQm90IElzIE9ubHkgRm9yIEVkdWNhdGlvbmFsIFB1cnBvc2XinKhgCgoKKipQb3dlcmVkIEJ5IFtNQVJTLTEx4bWA4bS5IPCfh7Hwn4ewXShodHRwczovL3QubWUvK3NYUm1YdFBTYlFZell6ZzkpKioKIiIiCgpIRUxQX01TRyA9ICIiIgoqKkNvbW1hbmRzIDoqKgoKICAgICoqwrsgL3N0YXJ0KioKICAgICoqwrsgL3Bvc3QqKiBgUE9TVF9MSU5LYAoiIiIKClNUUl9QSUMgPSAiaHR0cHM6Ly9ncmFwaC5vcmcvZmlsZS8wMTkzMjVkZjY2ZGQ4YmFhMGY0NWIuanBnIgoKQkFDS19CVVRUT05TID0gWwoJWwoJSW5saW5lS2V5Ym9hcmRCdXR0b24oIuKaoe+4jyBHaXRodWIiLCB1cmw9Imh0dHBzOi8vZ2l0aHViLmNvbS9EaWx1bTEyNS9UZWxlZ3JhbS1WaWV3cy1CT1QiKSwKCV0sCglbCglJbmxpbmVLZXlib2FyZEJ1dHRvbign8J+UmSBCYWNrJywgY2FsbGJhY2tfZGF0YT0iQmFjayIpLAoJXSwKXQoKQGJvdC5vbl9tZXNzYWdlKGZpbHRlcnMuY29tbWFuZCgic3RhcnQiKSAmIGZpbHRlcnMucHJpdmF0ZSkKYXN5bmMgZGVmIHN0YXJ0Y21kKGJvdCwgbWVzc2FnZSk6CglwdXNlcl9pZCA9IG1lc3NhZ2UuZnJvbV91c2VyLmlkCglpZiBwdXNlcl9pZCA9PSBPV05FUjoKCQlTVElDS0VSID0gcmFuZG9tLmNob2ljZShTVElDS0VSUykKCQl6ID0gYXdhaXQgYm90LnNlbmRfc3RpY2tlcihtZXNzYWdlLmZyb21fdXNlci5pZCwgU1RJQ0tFUikKCQlzbGVlcCgyLjEpCgkJYXdhaXQgei5kZWxldGUoKQoJCXJlcGx5X21hcmt1cCA9IElubGluZUtleWJvYXJkTWFya3VwKFNUUikKCQlhd2FpdCBib3Quc2VuZF9waG90bygKCQkJbWVzc2FnZS5jaGF0LmlkLAoJCQlwaG90bz1TVFJfUElDLAoJCQljYXB0aW9uPWYiIiIKKirwn42BIFV3dSBNeSBEZWFyIFt7bWVzc2FnZS5mcm9tX3VzZXIuZmlyc3RfbmFtZX1dKHRnOi8vdXNlcj9pZD17bWVzc2FnZS5mcm9tX3VzZXIuaWR9KfCfmJcqKgoKKirwn4yZIFdlbGNvbWUgVG8gW3tCT1RfTkFNRX1dKGh0dHBzOi8vdC5tZS97Qk9UfSkg8J+MvyoqCgoqKsKwIEkgYW0gYSB2ZXJ5IHVzZWZ1bGwgYm90IEZvciBVIPCfjLQqKgoqKsKwIEkgY2FuIGdpdmUgeW91IEZha2UgVmlld3MgRm9yIFlvdXIgUG9zdHMg8J+MnSoqCgoKKirimIPvuI8gTm90ZSA6KiogYFRoaXMgQm90IERvbid0IFByb3ZpZGUgQW55IGlsbGlnYWwgdGhpbmdz4pyoIFlvdSBBcmUgRnVsbHkgUmVzcG9uc2liZeKcqCBUaGlzIEJvdCBJcyBPbmx5IEZvciBFZHVjYXRpb25hbCBQdXJwb3Nl4pyoYAoKCioqUG93ZXJlZCBCeSBbTUFSUy0xMeG1gOG0uSDwn4ex8J+HsF0oaHR0cHM6Ly90Lm1lLytzWFJtWHRQU2JRWXpZemc5KSoqCiIiIiwKCQkJcmVwbHlfbWFya3VwPXJlcGx5X21hcmt1cAoJCSkKCWVsc2U6CgkJYXdhaXQgYm90LnNlbmRfbWVzc2FnZShtZXNzYWdlLmNoYXQuaWQsIFlPVV9BUkVfTk9UX09XTkVSLCByZXBseV9tYXJrdXA9SW5saW5lS2V5Ym9hcmRNYXJrdXAoR0lUSFVCKSwgZGlzYWJsZV93ZWJfcGFnZV9wcmV2aWV3PVRydWUpCgpAYm90Lm9uX21lc3NhZ2UoZmlsdGVycy5jb21tYW5kKCJwb3N0IikgJiBmaWx0ZXJzLnByaXZhdGUpCmFzeW5jIGRlZiBwb3N0dmlld3MoYm90LCBtZXNzYWdlKToKCXVzZXJfaWQgPSBtZXNzYWdlLmZyb21fdXNlci5pZAoJYXdhaXQgYm90LnNlbmRfbWVzc2FnZShtZXNzYWdlLmNoYXQuaWQsIHRleHQ9ZiJgU2VuZGluZyBWaWV3cyBpbiBQcm9ncmVzcy4uLvCfmLTinaTvuI/igI3wn6m5YCIsIGRpc2FibGVfd2ViX3BhZ2VfcHJldmlldz1UcnVlKQoJaWYgdXNlcl9pZCA9PSBPV05FUjoKCQlwb3N0X2xpbmsgPSBtZXNzYWdlLnRleHQuc3BsaXQoTm9uZSwgMSlbMV0KCQlUSFJFQURTID0gNTAwCgkJUFJPWElFU19UWVBFUyA9ICgnaHR0cCcsICdzb2NrczQnLCAnc29ja3M1JykKCQlVU0VSX0FHRU5UID0gJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMDYuMC4wLjAgU2FmYXJpLzUzNy4zNicKCQlSRUdFWCA9IGNvbXBpbGUociIoPzpefFxEKT8oKCIrIHIiKD86WzEtOV18WzEtOV1cZHwxXGR7Mn18MlswLTRdXGR8MjVbMC01XSkiCgkJICAgICAgICAgICAgICAgICsgciJcLiIgKyByIig/OlxkfFsxLTldXGR8MVxkezJ9fDJbMC00XVxkfDI1WzAtNV0pIgoJCSAgICAgICAgICAgICAgICArIHIiXC4iICsgciIoPzpcZHxbMS05XVxkfDFcZHsyfXwyWzAtNF1cZHwyNVswLTVdKSIKCQkgICAgICAgICAgICAgICAgKyByIlwuIiArIHIiKD86XGR8WzEtOV1cZHwxXGR7Mn18MlswLTRdXGR8MjVbMC01XSkiCgkJICAgICAgICAgICAgICAgICsgciIpOiIgKyAociIoPzpcZHxbMS05XVxkezEsM318WzEtNV1cZHs0fXw2WzAtNF1cZHszfSIKCQkgICAgICAgICAgICAgICAgKyByInw2NVswLTRdXGR7Mn18NjU1WzAtMl1cZHw2NTUzWzAtNV0pIikKCQkgICAgICAgICAgICAgICAgKyByIikoPzpcRHwkKSIpCgkJZXJyb3JzID0gb3BlbignLmNhY2UudHh0JywgJ2ErJykKCQljZmcgPSBDb25maWdQYXJzZXIoaW50ZXJwb2xhdGlvbj1Ob25lKQoJCWNmZy5yZWFkKCJjb25maWcuaW5pIiwgZW5jb2Rpbmc9InV0Zi04IikKCQlodHRwLCBzb2NrczQsIHNvY2tzNSA9ICcnLCAnJywgJycKCQl0cnk6IGh0dHAsIHNvY2tzNCwgc29ja3M1ID0gY2ZnWyJIVFRQIl0sIGNmZ1siU09DS1M0Il0sIGNmZ1siU09DS1M1Il0KCQlleGNlcHQgS2V5RXJyb3I6IHByaW50KCcgWyBPVVRQVVQgXSBFcnJvciB8IGNvbmZpZy5pbmkgbm90IGZvdW5kIScpCgkJaHR0cF9wcm94aWVzLCBzb2NrczRfcHJveGllcywgc29ja3M1X3Byb3hpZXMgPSBbXSwgW10sIFtdCgkJcHJveHlfZXJyb3JzLCB0b2tlbl9lcnJvcnMgPSAwLCAwCgkJY2hhbm5lbCwgcG9zdCwgdGltZV9vdXQsIHJlYWxfdmlld3MgPSAnJywgMCwgMTUsIDAKCQlkZWYgc2NyYXAoc291cmNlcywgX3Byb3h5X3R5cGUpOgoJCSAgICBmb3Igc291cmNlIGluIHNvdXJjZXM6CgkJICAgICAgICBpZiBzb3VyY2U6CgkJICAgICAgICAgICAgdHJ5OiByZXNwb25zZSA9IHJlcXVlc3RzLmdldChzb3VyY2UsIHRpbWVvdXQ9dGltZV9vdXQpCgkJICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOiBlcnJvcnMud3JpdGUoZid7ZX1cbicpCgkJICAgICAgICAgICAgaWYgdHVwbGUoUkVHRVguZmluZGl0ZXIocmVzcG9uc2UudGV4dCkpOgoJCSAgICAgICAgICAgICAgICBmb3IgcHJveHkgaW4gdHVwbGUoUkVHRVguZmluZGl0ZXIocmVzcG9uc2UudGV4dCkpOgoJCSAgICAgICAgICAgICAgICAgICAgaWYgX3Byb3h5X3R5cGUgPT0gJ2h0dHAnOiBodHRwX3Byb3hpZXMuYXBwZW5kKHByb3h5Lmdyb3VwKDEpKQoJCSAgICAgICAgICAgICAgICAgICAgZWxpZiBfcHJveHlfdHlwZSA9PSAnc29ja3M0Jzogc29ja3M0X3Byb3hpZXMuYXBwZW5kKHByb3h5Lmdyb3VwKDEpKQoJCSAgICAgICAgICAgICAgICAgICAgZWxpZiBfcHJveHlfdHlwZSA9PSAnc29ja3M1Jzogc29ja3M1X3Byb3hpZXMuYXBwZW5kKHByb3h5Lmdyb3VwKDEpKQoJCWRlZiBzdGFydF9zY3JhcCgpOgoJCSAgICB0aHJlYWRzID0gW10KCQkgICAgZm9yIGkgaW4gKGh0dHBfcHJveGllcywgc29ja3M0X3Byb3hpZXMsIHNvY2tzNV9wcm94aWVzKTogaS5jbGVhcigpCgkJICAgIGZvciBpIGluICgoaHR0cC5nZXQoIlNvdXJjZXMiKS5zcGxpdGxpbmVzKCksICdodHRwJyksIChzb2NrczQuZ2V0KCJTb3VyY2VzIikuc3BsaXRsaW5lcygpLCAnc29ja3M0JyksIChzb2NrczUuZ2V0KCJTb3VyY2VzIikuc3BsaXRsaW5lcygpLCAnc29ja3M1JykpOgoJCSAgICAgICAgdGhyZWFkID0gVGhyZWFkKHRhcmdldD1zY3JhcCwgYXJncz0oaVswXSwgaVsxXSkpCgkJICAgICAgICB0aHJlYWRzLmFwcGVuZCh0aHJlYWQpCgkJICAgICAgICB0aHJlYWQuc3RhcnQoKQoJCSAgICBmb3IgdCBpbiB0aHJlYWRzOiB0LmpvaW4oKQoJCWRlZiBnZXRfdG9rZW4ocHJveHksIHByb3h5X3R5cGUpOgoJCSAgICB0cnk6CgkJICAgICAgICBzZXNzaW9uID0gcmVxdWVzdHMuc2Vzc2lvbigpCgkJICAgICAgICByZXNwb25zZSA9IHNlc3Npb24uZ2V0KGYnaHR0cHM6Ly90Lm1lL3tjaGFubmVsfS97cG9zdH0nLCBwYXJhbXM9eydlbWJlZCc6ICcxJywgJ21vZGUnOiAndG1lJ30sCgkJICAgICAgICAgICAgICAgICAgICBoZWFkZXJzPXsncmVmZXJlcic6IGYnaHR0cHM6Ly90Lm1lL3tjaGFubmVsfS97cG9zdH0nLCAndXNlci1hZ2VudCc6IFVTRVJfQUdFTlR9LAoJCSAgICAgICAgICAgICAgICAgICAgcHJveGllcz17J2h0dHAnOiBmJ3twcm94eV90eXBlfTovL3twcm94eX0nLCAnaHR0cHMnOiBmJ3twcm94eV90eXBlfTovL3twcm94eX0nfSwKCQkgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ9dGltZV9vdXQpCgkJICAgICAgICByZXR1cm4gc2VhcmNoKCdkYXRhLXZpZXc9IihbXiJdKyknLCByZXNwb25zZS50ZXh0KS5ncm91cCgxKSwgc2Vzc2lvbgoJCSAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6IHJldHVybiAyCgkJICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb246IDEKCQkgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOiByZXR1cm4gZXJyb3JzLndyaXRlKGYne2V9XG4nKQoJCWRlZiBzZW5kX3ZpZXcodG9rZW4sIHNlc3Npb24sIHByb3h5LCBwcm94eV90eXBlKToKCQkgICAgdHJ5OgoJCSAgICAgICAgY29va2llc19kaWN0ID0gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkKCQkgICAgICAgIHJlc3BvbnNlID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vdC5tZS92LycsIHBhcmFtcz17J3ZpZXdzJzogc3RyKHRva2VuKX0sIGNvb2tpZXM9ewoJCSAgICAgICAgICAgICdzdGVsX2R0JzogJy0yNDAnLCAnc3RlbF93ZWJfYXV0aCc6ICdodHRwcyUzQSUyRiUyRndlYi50ZWxlZ3JhbS5vcmclMkZ6JTJGJywKCQkgICAgICAgICAgICAnc3RlbF9zc2lkJzogY29va2llc19kaWN0LmdldCgnc3RlbF9zc2lkJywgTm9uZSksICdzdGVsX29uJzogY29va2llc19kaWN0LmdldCgnc3RlbF9vbicsIE5vbmUpfSwKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycz17J3JlZmVyZXInOiBmJ2h0dHBzOi8vdC5tZS97Y2hhbm5lbH0ve3Bvc3R9P2VtYmVkPTEmbW9kZT10bWUnLAoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBVU0VSX0FHRU5ULCAneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCd9LAoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94aWVzPXsnaHR0cCc6IGYne3Byb3h5X3R5cGV9Oi8ve3Byb3h5fScsICdodHRwcyc6IGYne3Byb3h5X3R5cGV9Oi8ve3Byb3h5fSd9LAoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0PXRpbWVfb3V0KQoJCSAgICAgICAgcmV0dXJuIFRydWUgaWYgKHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMCBhbmQgcmVzcG9uc2UudGV4dCA9PSAndHJ1ZScpIGVsc2UgRmFsc2UKCQkgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuUmVxdWVzdEV4Y2VwdGlvbjogMQoJCSAgICBleGNlcHQgRXhjZXB0aW9uOiBwYXNzCgkJZGVmIGNvbnRyb2wocHJveHksIHByb3h5X3R5cGUpOgoJCSAgICBnbG9iYWwgcHJveHlfZXJyb3JzLCB0b2tlbl9lcnJvcnMKCQkgICAgdG9rZW5fZGF0YSA9IGdldF90b2tlbihwcm94eSwgcHJveHlfdHlwZSkKCQkgICAgaWYgdG9rZW5fZGF0YSA9PSAyOiB0b2tlbl9lcnJvcnMgKz0gMQoJCSAgICBlbGlmIHRva2VuX2RhdGEgPT0gMTogcHJveHlfZXJyb3JzICs9IDEKCQkgICAgZWxpZiB0b2tlbl9kYXRhOgoJCSAgICAgICAgc2VuZF9kYXRhID0gc2VuZF92aWV3KHRva2VuX2RhdGFbMF0sIHRva2VuX2RhdGFbMV0sIHByb3h5LCBwcm94eV90eXBlKQoJCSAgICAgICAgI2lmIHNlbmRfZGF0YSA9PSAxOiBwcm94eV9lcnJvcnMgKz0gMQoJCWRlZiBzdGFydF92aWV3KCk6CgkJICAgIGMsIHRocmVhZHMgPSAwLCBbXQoJCSAgICBzdGFydF9zY3JhcCgpCgkJICAgIGZvciBpIGluIFtodHRwX3Byb3hpZXMsIHNvY2tzNF9wcm94aWVzLCBzb2NrczVfcHJveGllc106CgkJICAgICAgICBmb3IgaiBpbiBpOgoJCSAgICAgICAgICAgIHRocmVhZCA9IFRocmVhZCh0YXJnZXQ9Y29udHJvbCwgYXJncz0oaiwgUFJPWElFU19UWVBFU1tjXSkpCgkJICAgICAgICAgICAgdGhyZWFkcy5hcHBlbmQodGhyZWFkKQoJCSAgICAgICAgICAgIHdoaWxlIGFjdGl2ZV9jb3VudCgpID4gVEhSRUFEUzogc2xlZXAoMC4wNSkKCQkgICAgICAgICAgICB0aHJlYWQuc3RhcnQoKQoJCSAgICAgICAgYyArPSAxCgkJICAgICAgICBzbGVlcCgyKQoJCSAgICBmb3IgdCBpbiB0aHJlYWRzOgoJCSAgICAgICAgdC5qb2luKCkKCQkgICAgICAgIHN0YXJ0X3ZpZXcoKQoJCWRlZiBjaGVja192aWV3cygpOgoJCSAgICBnbG9iYWwgcmVhbF92aWV3cwoJCSAgICB3aGlsZSBUcnVlOgoJCSAgICAgICAgdHJ5OgoJCSAgICAgICAgICAgIHRlbGVncmFtX3JlcXVlc3QgPSByZXF1ZXN0cy5nZXQoZidodHRwczovL3QubWUve2NoYW5uZWx9L3twb3N0fScsIHBhcmFtcz17J2VtYmVkJzogJzEnLCAnbW9kZSc6ICd0bWUnfSwKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM9eydyZWZlcmVyJzogZidodHRwczovL3QubWUve2NoYW5uZWx9L3twb3N0fScsICd1c2VyLWFnZW50JzogVVNFUl9BR0VOVH0pCgkJICAgICAgICAgICAgcmVhbF92aWV3cyA9IHNlYXJjaCgnPHNwYW4gY2xhc3M9InRnbWVfd2lkZ2V0X21lc3NhZ2Vfdmlld3MiPihbXjxdKyknLCB0ZWxlZ3JhbV9yZXF1ZXN0LnRleHQpLmdyb3VwKDEpCgkJICAgICAgICAgICAgc2xlZXAoMikKCQkgICAgICAgIGV4Y2VwdDogcGFzcwoJCWRlZiB0dWkoKToKCQkgICAgd2hpbGUgVHJ1ZToKCQkgICAgICAgIHByaW50KGYnJycKCQl7TE9HT30KCQkgICAgICAgICcnJykKCQkgICAgICAgIHNsZWVwKDIpO3N5c3RlbSgnY2xzJyBpZiBuYW1lID09ICdudCcgZWxzZSAnY2xlYXInKQoJCWNoYW5uZWwsIHBvc3QgPSBwb3N0X2xpbmsucmVwbGFjZSgnaHR0cHM6Ly90Lm1lLycsICcnKS5zcGxpdCgnLycpCgkJdHJ5OgoJCSAgICBzZWFyY2goJzxzcGFuIGNsYXNzPSJ0Z21lX3dpZGdldF9tZXNzYWdlX3ZpZXdzIj4oW148XSspJywgcmVxdWVzdHMuZ2V0KGYnaHR0cHM6Ly90Lm1lL3tjaGFubmVsfS97cG9zdH0nLAoJCSAgICBwYXJhbXM9eydlbWJlZCc6ICcxJywgJ21vZGUnOiAndG1lJ30sIGhlYWRlcnM9eydyZWZlcmVyJzogZidodHRwczovL3QubWUve2NoYW5uZWx9L3twb3N0fScsICd1c2VyLWFnZW50JzogVVNFUl9BR0VOVH0pLnRleHQpLmdyb3VwKDEpCgkJZXhjZXB0OiBhd2FpdCBtZXNzYWdlLnJlcGx5X3RleHQoJyAqKkNoYW5uZWwgT3IgUG9zdCBOb3QgRm91bmQhIPCfmJ8qKicpCgkJZWxzZToKCQkgICAgVGhyZWFkKHRhcmdldD1zdGFydF92aWV3KS5zdGFydCgpCgkJICAgIFRocmVhZCh0YXJnZXQ9Y2hlY2tfdmlld3MpLnN0YXJ0KCkKCQkgICAgc2xlZXAoNy41KTtzeXN0ZW0oJ2NscycgaWYgbmFtZSA9PSAnbnQnIGVsc2UgJ2NsZWFyJykKCQkgICAgVGhyZWFkKHRhcmdldD10dWkpLnN0YXJ0KCkKCWVsc2U6CgkJYXdhaXQgYm90LnNlbmRfbWVzc2FnZShtZXNzYWdlLmNoYXQuaWQsIFlPVV9BUkVfTk9UX09XTkVSLCByZXBseV9tYXJrdXA9SW5saW5lS2V5Ym9hcmRNYXJrdXAoR0lUSFVCKSwgZGlzYWJsZV93ZWJfcGFnZV9wcmV2aWV3PVRydWUpCgpAYm90Lm9uX2NhbGxiYWNrX3F1ZXJ5KCkKZGVmIGNhbGxiYWNrX3F1ZXJ5KENsaWVudCwgQ2FsbGJhY2tfUXVlcnkpOgoJaWYgQ2FsbGJhY2tfUXVlcnkuZGF0YSA9PSAiaGVscG1lbnUiOgoJCUNhbGxiYWNrX1F1ZXJ5LmVkaXRfbWVzc2FnZV90ZXh0KAoJCQlIRUxQX01TRywKCQkJcmVwbHlfbWFya3VwPUlubGluZUtleWJvYXJkTWFya3VwKEJBQ0tfQlVUVE9OUyksCgkJKQoJZWxpZiBDYWxsYmFja19RdWVyeS5kYXRhID09ICJCYWNrIjoKCQlDYWxsYmFja19RdWVyeS5lZGl0X21lc3NhZ2VfdGV4dCgKCQkJU1RBUlRfTUVTU0FHRSwKCQkJcmVwbHlfbWFya3VwPUlubGluZUtleWJvYXJkTWFya3VwKFNUUiksCgkJCWRpc2FibGVfd2ViX3BhZ2VfcHJldmlldz1UcnVlLAoJCSkKCgpwcmludCAoKQpwcmludCAoIlN0YXJ0aW5nLi4uIikKYm90LnJ1bigpCg==\n')))